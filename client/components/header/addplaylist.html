<template name="addPlaylist">
  <div class="modal fade" id="addPlaylistModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myModalLabel">Add a new playlist</h4>
        </div>
        <div class="modal-body">
          {{> insertPlaylistForm}}
        </div>
      </div>
    </div>
  </div>
</template>

<template name="insertPlaylistForm">
{{#autoForm collection="Playlists" id="insertPlaylistForm" type="insert" }}
  {{> afQuickField name="title"}}
  {{> afQuickField name="cover"}}
  {{> afQuickField name="tags" }}
  {{> afFieldInput name="privacy" type="hidden"}}
  <div class="form-group">
    <label class="control-label" for="privacy">Privacy Setting</label>
    <div class="btn-group btn-group-md" id="privacyToggle">
        <button data-action="public" data-toggle="tooltip" data-placement="bottom" title="Your playlist will be viewable and editable by everyone" type="button" class="btn btn-default {{#if sessionIs 'playlistPrivacy' 'public'}}active{{/if}}">
          <span class="glyphicon glyphicon glyphicon-globe"></span> Public
        </button>
        <button data-action="viewonly" data-toggle="tooltip" data-placement="bottom" title="Only you can edit your playlist, the rest can view and listen" type="button" class="btn btn-default {{#if sessionIs 'playlistPrivacy' 'viewonly'}}active{{/if}}">
          <span class="glyphicon glyphicon glyphicon-eye-open"></span> View only
        </button>
        <button data-action="private" data-toggle="tooltip" data-placement="bottom" title="This playlist will only be visible by you" type="button" class="btn btn-default {{#if sessionIs 'playlistPrivacy' 'private'}}active{{/if}}">
          <span class="glyphicon glyphicon-lock"></span> Private
        </button>
    </div>
  </div>
  <button type="submit" class="btn btn-primary btn-lg"><span class="glyphicon glyphicon-plus"></span> Add!</button>
{{/autoForm}}
</template>
